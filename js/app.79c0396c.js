(function(t){function e(e){for(var s,o,r=e[0],c=e[1],u=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"129d":function(t,e,n){"use strict";n("ffad")},1899:function(t,e,n){},"1b75":function(t,e,n){},"1da9":function(t,e,n){"use strict";n("7cb6")},"2f67":function(t,e,n){"use strict";n("cf56")},"42f8":function(t,e,n){},4880:function(t,e,n){},"48e1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var s=n("2b0e"),i=n("2f62"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("router-view",{staticClass:"main"}),n("Toasts",{attrs:{toasts:t.toasts},on:{onDelete:t.removeToast}}),n("footer",{staticClass:"footer"},[n("ColourSwitcher",{staticClass:"switcher"}),t._m(0)],1)],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer__text"},[t._v("© Copyright 2021"),n("a",{staticClass:"footer__link",attrs:{href:"https://artemisdev.xyz",target:"_blank"}},[t._v("Artemis")]),t._v(".")])}],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"themes"},t._l(Object.entries(t.themes),(function(e){var s=e[0],i=e[1];return n("div",{staticClass:"themes__theme",style:{background:i["theme-colour"]},on:{click:function(e){return t.switchTheme(s)}}})})),0)},c=[],u=n("f972");function l(t){const e=new RegExp(`^ *${t} *= *(.*)`),n=document.cookie.split(";");for(const s of n){const t=s.match(e);if(t)return t[1]}}function d(t,e,{daysLasts:n=30}={}){const s=new Date;s.setTime(s.getTime()+864e5*n),document.cookie=`${t}=${e}; expires=${s.toUTCString()}; SameSite=Strict; Path=/`}function m(t,e){d(`timer-${t.timer}-token`,t.token),d(`timer-${t.timer}-side`,e)}function p(t){const e=l(`timer-${t}-token`);return new u["c"]({timer:t,token:e},"https://api.blitz.red")}function h(t){const e=l(`timer-${t}-side`);return void 0===e?-2:Number.parseInt(e)}function g(t){document.dispatchEvent(new CustomEvent("appNotification",{detail:t}))}const f={red:{"theme-colour":"#e24","bg-colour":"#222","footer-colour":"#111","secondary-colour":"#666e","modal-mask":"#0008"},plain:{"theme-colour":"#000","bg-colour":"#fff","footer-colour":"#aaa","secondary-colour":"#666e","modal-mask":"#0008"},pink:{"theme-colour":"#FF1B8D","bg-colour":"#222","footer-colour":"#111","secondary-colour":"#666e","modal-mask":"#0008"},yellow:{"theme-colour":"#FFDA00","bg-colour":"#222","footer-colour":"#111","secondary-colour":"#666e","modal-mask":"#0008"},blue:{"theme-colour":"#1BB3FF","bg-colour":"#222","footer-colour":"#111","secondary-colour":"#666e","modal-mask":"#0008"}},_="classic_red";var v={name:"ColourSwitcher",data:()=>({themes:f}),mounted(){this.updateTheme()},methods:{updateTheme(){const t=f[l("theme")||_]||f[_];Object.keys(t).forEach(e=>{document.documentElement.style.setProperty("--"+e,t[e])})},switchTheme(t){d("theme",t),this.updateTheme()}}},b=v,w=(n("5b16"),n("2877")),T=Object(w["a"])(b,r,c,!1,null,"6b51f2f2",null),C=T.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toasts"},[n("transition-group",{attrs:{name:"slide",tag:"div"}},t._l(t.toasts,(function(e){return n("div",{key:t._uid+"-"+e.id,staticClass:"toast",on:{click:function(n){return t.$emit("onDelete",e.id)}}},[e.iconChar?n("div",{staticClass:"toast__icon"},[t._v(t._s(e.iconChar))]):t._e(),n("div",{staticClass:"toast__body",class:{"toast__body--important":e.important}},[n("div",{staticClass:"toast__title"},[t._v(t._s(e.title))]),n("div",{staticClass:"toast__message"},[t._v(t._s(e.message))])])])})),0)],1)},k=[],x={name:"Toasts",props:["toasts"]},S=x,$=(n("66ff"),Object(w["a"])(S,y,k,!1,null,"105a39db",null)),E=$.exports,M={name:"App",components:{ColourSwitcher:C,Toasts:E},data(){return{toasts:[],nextId:0}},mounted(){document.addEventListener("appNotification",this.onAppNotification)},beforeDestroy(){document.removeEventListener("appNotification",this.onAppNotification)},methods:{onAppNotification(t){const e=t.detail;e.id=this.nextId++,this.toasts.push(e),window.setTimeout(()=>{this.removeToast(e.id)},5e3)},removeToast(t){for(const[e,n]of this.toasts.entries())if(n.id===t)return void this.toasts.splice(e,1)}}},O=M,I=(n("cf25"),Object(w["a"])(O,a,o,!1,null,null,null)),j=I.exports,A=n("9483");Object(A["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){g({title:"Downloading Update",message:"Blitz.Red update is currently downloading...",iconChar:"i",important:!0}),console.log("New content is downloading.")},updated(){g({title:"Update Available",message:"Please reload the page to update.",iconChar:"X",important:!0})},offline(){g({title:"Connection lost!",message:"Blitz.Red cannot function properly without an Internet connection",iconChar:"X",important:!0})},error(t){g({title:"Internal Error",message:t.toString(),iconChar:"E",important:!0})}});var P=n("8c4f"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"intro"},[n("img",{staticClass:"logo",attrs:{src:"/img/logo.svg"}}),n("h1",{staticClass:"header"},[t._v("Blitz.Red")]),n("h2",{staticClass:"subheader"},[t._v("The live online game timer for competitive 1v1s")]),n("router-link",{staticClass:"button",attrs:{to:"/create"}},[t._v("Create a Timer")]),n("p",{staticClass:"status"},[t._v(t._s(t.stats.ongoingTimers)+" ongoing timers • "+t._s(t.stats.allTimers)+" all time • "+t._s(t.stats.connected)+" people online")])],1)},N=[];const G=new u["a"]("https://api.blitz.red");var V={name:"Home",data(){return{stats:{ongoingTimers:"?",allTimers:"?",connected:"?"}}},created(){G.getStats().then(t=>{this.stats=t})}},R=V,z=(n("b817"),Object(w["a"])(R,D,N,!1,null,"276b62b3",null)),H=z.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"create"},[n("h1",[t._v("Create a Timer")]),t._l(t.stages,(function(e,s){return n("section",{staticClass:"stage"},[n("StageSettings",{attrs:{stage:e,expanded:s===t.expandedStage,idx:s},on:{expandStage:function(e){t.expandedStage=s},removeStage:function(e){return t.stages.splice(s,1)}}})],1)})),n("div",{staticClass:"add_stage",on:{click:t.addStage}},[t._v("+")]),n("div",{staticClass:"as_player_input"},[n("span",[t._v("Manage instead of playing")]),n("Checkbox",{attrs:{type:"checkbox"},model:{value:t.asManager,callback:function(e){t.asManager=e},expression:"asManager"}})],1),n("button",{staticClass:"button",on:{click:t.start}},[t._v("Start")])],2)},F=[],B=n("1315"),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{for:"checkbox-"+t._uid}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"hidden_checkbox",attrs:{type:"checkbox",id:"checkbox-"+t._uid},domProps:{checked:Array.isArray(t.inputValue)?t._i(t.inputValue,null)>-1:t.inputValue},on:{input:function(e){return t.$emit("input",e.target.checked)},change:function(e){var n=t.inputValue,s=e.target,i=!!s.checked;if(Array.isArray(n)){var a=null,o=t._i(n,a);s.checked?o<0&&(t.inputValue=n.concat([a])):o>-1&&(t.inputValue=n.slice(0,o).concat(n.slice(o+1)))}else t.inputValue=i}}}),n("div",{staticClass:"input"})])},J=[],W={name:"Checkbox",props:["value"],data:function(){return{inputValue:this.value}}},q=W,X=(n("2f67"),Object(w["a"])(q,U,J,!1,null,"ad5a037a",null)),Y=X.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.expanded?n("table",{staticClass:"stage stage--expanded"},[n("tr",{staticClass:"stage__header"},[n("td",[n("span",[t._v("Stage "+t._s(t.idx+1)+" - Turn "+t._s(t.stage.startTurn))])]),0!==t.idx?n("td",{staticClass:"remove_btn_wrapper"},[n("span",{staticClass:"remove_btn",on:{click:function(e){return t.$emit("removeStage")}}},[t._v("-")])]):n("td",{staticClass:"placeholder"})]),0!==t.idx?n("tr",[t._m(0),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.stage.startTurn,expression:"stage.startTurn"}],staticClass:"number_input",attrs:{type:"number"},domProps:{value:t.stage.startTurn},on:{input:function(e){e.target.composing||t.$set(t.stage,"startTurn",e.target.value)}}})])]):t._e(),n("tr",[t._m(1),n("td",[n("TimeInput",{model:{value:t.stage.initialTime,callback:function(e){t.$set(t.stage,"initialTime",e)},expression:"stage.initialTime"}})],1)]),n("tr",[t._m(2),n("td",[n("TimeInput",{model:{value:t.stage.incrementPerTurn,callback:function(e){t.$set(t.stage,"incrementPerTurn",e)},expression:"stage.incrementPerTurn"}})],1)]),n("tr",[t._m(3),n("td",[n("TimeInput",{model:{value:t.stage.fixedTimePerTurn,callback:function(e){t.$set(t.stage,"fixedTimePerTurn",e)},expression:"stage.fixedTimePerTurn"}})],1)])]):n("div",{staticClass:"stage stage--collapsed stage__header"},[n("span",{staticClass:"stage__header__title",on:{click:function(e){return t.$emit("expandStage")}}},[t._v("Stage "+t._s(t.idx+1)+" - Turn "+t._s(t.stage.startTurn))]),0!==t.idx?n("span",{staticClass:"remove_btn",on:{click:function(e){return t.$emit("removeStage")}}},[t._v("-")]):t._e()])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",[t._v("Start Turn")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",[t._v("Initial Time")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",[t._v("Increase per Turn")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",[t._v("Fixed per Turn")])])}],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"time_input"},[n("DigitInput",{on:{input:t.onInput},model:{value:t.tenHours,callback:function(e){t.tenHours=e},expression:"tenHours"}}),n("DigitInput",{on:{input:t.onInput},model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}}),t._v("h"),n("DigitInput",{attrs:{max:5},on:{input:t.onInput},model:{value:t.tenMinutes,callback:function(e){t.tenMinutes=e},expression:"tenMinutes"}}),n("DigitInput",{on:{input:t.onInput},model:{value:t.minutes,callback:function(e){t.minutes=e},expression:"minutes"}}),t._v("m"),n("DigitInput",{attrs:{max:5},on:{input:t.onInput},model:{value:t.tenSeconds,callback:function(e){t.tenSeconds=e},expression:"tenSeconds"}}),n("DigitInput",{on:{input:t.onInput},model:{value:t.seconds,callback:function(e){t.seconds=e},expression:"seconds"}}),t._v("s")],1)},tt=[],et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.inputValue,expression:"inputValue",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",max:t.max},domProps:{value:t.inputValue},on:{keydown:t.update,input:function(e){e.target.composing||(t.inputValue=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})},nt=[],st={name:"DigitInput",props:{value:Number,max:{type:Number,default:9}},data:function(){return{inputValue:this.value}},methods:{update(t){const e=t.keyCode?t.keyCode:t.which;let n;if(e>=48&&e<=48+this.max)n=e-48;else{if(!(e>=96&&e<=96+this.max))return void t.preventDefault();n=e-96}this.inputValue=n,this.$emit("input",n),t.preventDefault()}}},it=st,at=(n("e026"),Object(w["a"])(it,et,nt,!1,null,"6881f784",null)),ot=at.exports,rt={name:"TimeInput",components:{DigitInput:ot},data:function(){const t=this.value.shiftTo("hours","minutes","seconds").toObject();return{tenHours:Math.floor(t.hours/10),hours:t.hours%10,tenMinutes:Math.floor(t.minutes/10),minutes:t.minutes%10,tenSeconds:Math.floor(t.seconds/10),seconds:t.seconds%10}},props:["value"],methods:{onInput(){const t=document.activeElement.nextElementSibling;t&&t.focus(),this.$emit("input",B["Duration"].fromObject({seconds:10*this.tenSeconds+this.seconds,minutes:10*this.tenMinutes+this.minutes,hours:10*this.tenHours+this.hours}))}}},ct=rt,ut=Object(w["a"])(ct,Z,tt,!1,null,null,null),lt=ut.exports,dt={name:"StageSettings",props:["stage","idx","expanded"],components:{TimeInput:lt}},mt=dt,pt=(n("7f30"),Object(w["a"])(mt,K,Q,!1,null,"8fe2fe04",null)),ht=pt.exports;const gt=new u["a"]("https://api.blitz.red");var ft={name:"Create",components:{Checkbox:Y,StageSettings:ht},data(){return{stages:[{startTurn:0,fixedTimePerTurn:B["Duration"].fromMillis(0),incrementPerTurn:B["Duration"].fromMillis(3e4),initialTime:B["Duration"].fromMillis(18e5)}],asManager:!1,expandedStage:0}},methods:{async start(){const t=this.stages.map(u["b"].create),e=await gt.createTimer(t,this.asManager);m(e,this.asManager?-1:0),this.$router.push("/timer/"+e.timer)},addStage(){this.stages.push({startTurn:this.stages[this.stages.length-1].startTurn+10,fixedTimePerTurn:B["Duration"].fromMillis(0),incrementPerTurn:B["Duration"].fromMillis(0),initialTime:B["Duration"].fromMillis(0)}),this.expandedStage=this.stages.length-1}}},_t=ft,vt=(n("669f"),Object(w["a"])(_t,L,F,!1,null,"3f638bde",null)),bt=vt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.timer?n("main",{staticClass:"timer"},[t.timer.turnNumber>=0?n("h1",{staticClass:"title"},[n("span",[t._v("Turn "+t._s(Math.floor(t.timer.turnNumber/2)))]),t.timer.hasEnded?n("span",{staticClass:"status"},[t._v(" - Game Over")]):t._e()]):n("h1",{staticClass:"title"},[t._v("Not Started")]),t.timer.turnNumber>=0&&!t.timer.hasEnded?n("h2",{staticClass:"subtitle"},[n("span",[t._v("Stage "+t._s(t.stageNumber)+"; +"+t._s(t.stageIncrementPerTurn)+" per turn")])]):t._e(),t.timer.hasEnded?n("h2",{staticClass:"subtitle"},[t._v(t._s(t.endReason))]):t._e(),t.canManage?n("div",{staticClass:"button_wrapper"},[t.canAddTime?n("button",{staticClass:"button",on:{click:function(e){t.showAddTime=!0}}},[t._v("Add Time")]):t._e(),t.canStart?n("button",{staticClass:"button",on:{click:t.startGame}},[t._v("Start Timer")]):t._e(),t.canEndTurn?n("button",{staticClass:"button",on:{click:t.endTurn}},[t._v("End Turn")]):t._e(),t.canEndGame?n("button",{staticClass:"button",on:{click:function(e){t.showEndGame=!0}}},[t._v("End Timer")]):t._e(),t.canAddTime||t.canStart||t.canEndTurn||t.canEndGame?t._e():n("span",{staticClass:"button_placeholder"})]):t._e(),n("div",{staticClass:"sides"},[n("TimerSide",{attrs:{side:t.timer.home,number:0,userSide:t.side,gameOver:t.timer.hasEnded},on:{timedOut:function(e){return t.onTimeOut(0)}}}),n("TimerSide",{attrs:{side:t.timer.away,number:1,userSide:t.side,gameOver:t.timer.hasEnded},on:{timedOut:function(e){return t.onTimeOut(1)}}})],1),n("span",[t._v(t._s(t.timer.observers)+" observers")]),n("span",[t._v("This link can be used to observe:")]),n("Copyable",{attrs:{content:t.link}}),n("Modal",{attrs:{showIf:t.showAddTime}},[n("div",{staticClass:"modal"},[n("h3",{staticClass:"modal__title"},[t._v("Add Time")]),n("p",{staticClass:"modal__description"},[t._v('This time will be added to both clocks as soon as you press "Add Time".')]),n("TimeInput",{staticClass:"modal__input",attrs:{value:t.timeToAdd}}),n("div",{staticClass:"modal__buttons"},[n("button",{staticClass:"button",on:{click:t.addTime}},[t._v("Add Time")]),n("button",{staticClass:"button button--secondary",on:{click:function(e){t.showAddTime=!1}}},[t._v("Cancel")])])],1)]),n("Modal",{attrs:{showIf:t.showEndGame}},[n("div",{staticClass:"modal"},[n("h3",{staticClass:"modal__title"},[t._v("End Game")]),n("p",{staticClass:"modal__description"},[t._v('The game will be ended as soon as you press "End Game". Only press it if the game is actually over, or you are resigning.')]),n("div",{staticClass:"modal__buttons"},[n("button",{staticClass:"button",on:{click:t.endGame}},[t._v("End Game")]),n("button",{staticClass:"button button--secondary",on:{click:function(e){t.showEndGame=!1}}},[t._v("Cancel")])])])])],1):n("LoadingScreen")},Tt=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side"},[n("h2",{staticClass:"title"},[t._v("Player "+t._s(t.number+1)),t.side&&!t.side.connected?n("span",{staticClass:"alert"},[t._v(" - Not Connected")]):t._e(),t.userSide==t.number?n("span",{staticClass:"alert"},[t._v(" - You")]):t._e()]),t.side?n("div",{staticClass:"side__timer"},[t.gameOver?t._e():n("span",{staticClass:"side__timer__title"},[t._v("Turn Timer")]),t.gameOver?t._e():n("Clock",{attrs:{getValue:function(){return t.side.turnTimeRemaining()}}}),n("span",{staticClass:"side__timer__title"},[t._v("Game Timer")]),n("Clock",{attrs:{getValue:function(){return t.side.totalTimeRemaining()}},on:{timedOut:function(e){return t.$emit("timedOut")}}})],1):n("div",{staticClass:"side__invite"},[n("h3",{staticClass:"side__invite__title"},[t._v("Not Joined")]),n("p",{staticClass:"side__invite__description"},[t._v("This link can be used to join:")]),n("Copyable",{attrs:{content:t.link}})],1)])},yt=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clock"},[t.parts.showHours?n("div",{staticClass:"digit_wrapper"},[n("transition",{attrs:{name:"spin"}},[n("span",{key:t._uid+"-"+t.parts.tenHours+"th",staticClass:"digit"},[t._v(t._s(t.parts.tenHours))])])],1):t._e(),t.parts.showHours?n("div",{staticClass:"digit_wrapper"},[n("transition",{attrs:{name:"spin"}},[n("span",{key:t._uid+"-"+t.parts.hours+"h",staticClass:"digit"},[t._v(t._s(t.parts.hours))])])],1):t._e(),t.parts.showHours?n("span",{staticClass:"digit"},[t._v(":")]):t._e(),n("div",{staticClass:"digit_wrapper"},[n("transition",{attrs:{name:"spin"}},[n("span",{key:t._uid+"-"+t.parts.tenMinutes+"tm",staticClass:"digit"},[t._v(t._s(t.parts.tenMinutes))])])],1),n("div",{staticClass:"digit_wrapper"},[n("transition",{attrs:{name:"spin"}},[n("span",{key:t._uid+"-"+t.parts.minutes+"m",staticClass:"digit"},[t._v(t._s(t.parts.minutes))])])],1),n("span",{staticClass:"digit"},[t._v(":")]),n("div",{staticClass:"digit_wrapper"},[n("transition",{attrs:{name:"spin"}},[n("span",{key:t._uid+"-"+t.parts.tenSeconds+"ts",staticClass:"digit"},[t._v(t._s(t.parts.tenSeconds))])])],1),n("div",{staticClass:"digit_wrapper"},[n("transition",{attrs:{name:"spin"}},[n("span",{key:t._uid+"-"+t.parts.seconds+"s",staticClass:"digit"},[t._v(t._s(t.parts.seconds))])])],1)])},xt=[],St={name:"Clock",props:["getValue"],mounted(){this.$options.updater=window.setInterval(this.forceUpdate,10)},beforeDestroy(){window.clearInterval(this.$options.updater)},data:function(){return{value:this.getValue()}},computed:{parts(){const t=this.value.shiftTo("hours","minutes","seconds","milliseconds").toObject();return{showHours:0!==t.hours,tenHours:Math.floor(t.hours/10),hours:t.hours%10,tenMinutes:Math.floor(t.minutes/10),minutes:t.minutes%10,tenSeconds:Math.floor(t.seconds/10),seconds:t.seconds%10}}},methods:{forceUpdate(){const t=this.getValue();t<B["Duration"].fromMillis(0)?(this.$emit("timedOut"),this.value=B["Duration"].fromMillis(0)):this.value=t}}},$t=St,Et=(n("129d"),Object(w["a"])($t,kt,xt,!1,null,"a8a7ee54",null)),Mt=Et.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"content",on:{click:t.copy}},[t._v(t._s(t.displayContent))])},It=[],jt={name:"Copyable",props:["content"],data:function(){return{displayContent:this.content}},methods:{copy(){navigator.clipboard.writeText(this.content),this.displayContent="Copied!",setTimeout(()=>{this.displayContent=this.content},500)}}},At=jt,Pt=(n("6982"),Object(w["a"])(At,Ot,It,!1,null,"5f8d6a98",null)),Dt=Pt.exports,Nt={name:"TimerSide",components:{Clock:Mt,Copyable:Dt},props:["side","number","userSide","gameOver"],data:function(){const t=this.$route.params.id;return{link:`${window.location.origin}/t/${t}/${this.number}`}}},Gt=Nt,Vt=(n("1da9"),Object(w["a"])(Gt,Ct,yt,!1,null,"4dd5f4c3",null)),Rt=Vt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal_transition"}},[t.showIf?n("div",{staticClass:"modal_wrapper"},[n("div",{staticClass:"modal"},[t._t("default")],2)]):t._e()])},Ht=[],Lt={name:"Modal",props:["showIf"]},Ft=Lt,Bt=(n("b512"),Object(w["a"])(Ft,zt,Ht,!1,null,"b2d98398",null)),Ut=Bt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"loading"},[n("div",{staticClass:"loading__spinner"}),n("h1",{staticClass:"loading__title"},[t._v("Loading")]),n("h2",{staticClass:"loading__message"},[t._v("..."+t._s(t.message)+"...")])])},Wt=[];const qt=["reticulating splines","generating witty dialog","swapping time and space","spinning violently around the y-axis","tokenizing real life","bending the spoon","filtering morale","don't think of purple hippos","we need a new fuse","upgrading Windows, your PC will restart several times","the architects are still drafting","building the buildings as fast as we can","drawing your map","checking the gravitational constant in your locale","humming something loudly","testing your patience","the bits are flowing slowly today","testing on Timmy... We're going to need another Timmy","reconfoobling energymotron","are we there yet","counting backwards from Infinity","embiggening prototypes","making you a cookie","creating time-loop inversion field","spinning the wheel of fortune","loading the enchanted bunny","computing chance of success","looking for exact change","I feel like I'm supposed to be loading something","adjusting flux capacitor","please wait until the sloth starts moving","I swear it's almost done","let's take a mindfulness minute","unicorns are at the end of this road, I promise","keeping all the 1's and removing all the 0's","icing the cake","cleaning off the cobwebs","making sure all the i's have dots","connecting Neurotoxin Storage Tank","granting wishes","spinning the hamster","99 bottles of beer on the wall","stay awhile and listen","convincing AI not to turn evil","computing the secret to life, the universe, and everything","creating problems for solutions","constructing additional pylons","turning it off and on again","didn't know paint dried so quickly","walking the dog","dividing by zero","we're going to need a bigger boat","cracking military-grade encryption","simulating traveling salesman","entangling superstrings","twiddling thumbs","searching for plot device","laughing at your pictures","sending data to Google","looking for sense of humour","reheating coffee","converting bugs to features","winter is coming","distracted by cat gifs","finding someone to hold my beer","BRB, working on my side project","let's hope it's worth the wait","aw, snap","ordering 1s and 0s","updating dependencies","please wait... consulting the manual","loading funny message","formatting C:","help, I'm trapped in a loader","mining some bitcoin","downloading more RAM","updating to Windows Vista","deleting System32 folder","initializing the initializer","optimizing the optimizer","running swag sticker detection","shovelling coal into the server","pushing pixels","building a wall","updating Updater","downloading Downloader","debugging Debugger","reading Terms and Conditions for you","running with scissors","definitely not a virus","work, work","discovering new ways of making you wait","catching em' all","still faster than Windows update","please wait while the minions do their work","grabbing extra minions","doing the heavy lifting","working very hard... Really","waking up the minions","holding my breath and counting down from a thousand"];var Xt={name:"LoadingScreen",data(){return{message:this.pickMessage()}},mounted(){this.$options.timeout=window.setTimeout(this.setNewMessage,500)},unmounted(){window.clearTimeout(this.$options.timeout)},methods:{pickMessage(){return qt[Math.floor(Math.random()*qt.length)]},setNewMessage(){this.message=this.pickMessage();const t=300+700*Math.random();this.$options.timeout=window.setTimeout(this.setNewMessage,t)}}},Yt=Xt,Kt=(n("e511"),Object(w["a"])(Yt,Jt,Wt,!1,null,"73d7c4aa",null)),Qt=Kt.exports,Zt={name:"Timer",components:{TimerSide:Rt,Copyable:Dt,Modal:Ut,TimeInput:lt,LoadingScreen:Qt},data(){this.$options.socket=p(this.$route.params.id),this.$options.socket.addListener("error",this.onError),this.$options.socket.addListener("state_update",this.onState),this.$options.socket.connect();const t=this.$route.params.id,e=h(t);return{timer:null,side:e,link:`${window.location.origin}/t/${t}`,showAddTime:!1,showEndGame:!1,timeToAdd:B["Duration"].fromMillis(3e5)}},beforeRouteUpdate(t,e,n){this.$options.socket.connect(),n()},beforeRouteLeave(t,e,n){this.$options.socket.disconnect(),n()},computed:{isTurn(){return!!this.timer&&(0===this.side&&this.timer.home.isTurn||1===this.side&&this.timer.away.isTurn)},canManage(){return!!this.timer&&(!this.timer.hasEnded&&(this.timer.managed?-1===this.side:this.side>=0))},canEndTurn(){return!!this.timer&&(!(this.timer.hasEnded||!this.timer.startedAt)&&(this.timer.managed?-1===this.side:this.isTurn))},canEndGame(){return!!this.timer&&(!(this.timer.hasEnded||!this.timer.startedAt)&&(this.timer.managed?-1===this.side:this.side>=0))},canStart(){return!!this.timer&&(!this.timer.hasEnded&&!this.timer.startedAt&&(this.timer.managed?-1===this.side:0===this.side))},canAddTime(){return!!this.timer&&(!(this.timer.hasEnded||!this.timer.startedAt)&&-1===this.side)},stageNumber(){return this.timer.settings.indexOf(this.timer.stageSettings)+1},stageIncrementPerTurn(){const t=this.timer.stageSettings.incrementPerTurn.shiftTo("hours","minutes","seconds").toObject();let e="";return t.hours&&(e+=t.hours+"h"),t.minutes&&(e+=t.minutes+"m"),t.seconds&&(e+=t.seconds+"s"),e||"0s"},endReason(){if(!this.timer.hasEnded)return"Not Ended";const t=B["Duration"].fromMillis(0);if(this.timer.home.totalTimeLastTurn<=t)return"Player 1 Timed Out";if(this.timer.away.totalTimeLastTurn<=t)return"Player 2 Timed Out";switch(this.timer.endReporter){case-1:return"Manager Ended Game";case 0:return"Player 1 Ended Game";case 1:return"Player 2 Ended Game"}return"Unkown End Reason"}},methods:{onError(t){g({title:"Internal Error",message:t.toString(),iconChar:"E",important:!0})},onState(t){this.timer=t},startGame(){this.$options.socket.startTimer()},endTurn(){this.$options.socket.endTurn()},onTimeOut(t){t===this.side?this.$options.socket.endTurn():this.$options.socket.timeout()},addTime(){this.$options.socket.addTime(this.timeToAdd.shiftTo("seconds").seconds),this.showAddTime=!1},endGame(){this.$options.socket.endGame(),this.showEndGame=!1}}},te=Zt,ee=(n("f24d"),Object(w["a"])(te,wt,Tt,!1,null,"3007e4e2",null)),ne=ee.exports;s["a"].use(P["a"]);const se=new P["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:H},{path:"/create",name:"Create",component:bt},{path:"/timer/:id",name:"Timer",component:ne},{path:"/t/:id/:side?",name:"JoinLink",async beforeEnter(t,e,n){const s=Number.parseInt(t.params.id);if(!s)return n({name:"Not Found"});let i=t.params.side;if(!["0","1",void 0].includes(i))return n({name:"Not Found"});const a=new u["a"]("https://api.blitz.red"),o=await a.getTimer(s);if(!o)return n({name:"Not Found"});if(("0"===t.params.side&&o.home||"1"===t.params.side&&o.away)&&(i=void 0),void 0!==i){const t=await a.joinTimer(s,Number.parseInt(i));m(t,i)}n({path:"/timer/"+s})}}]});var ie=se;s["a"].use(i["a"]),s["a"].config.productionTip=!1,new s["a"]({router:ie,render:function(t){return t(j)}}).$mount("#app")},"5b16":function(t,e,n){"use strict";n("df60")},"669f":function(t,e,n){"use strict";n("9513")},"66ff":function(t,e,n){"use strict";n("1899")},6982:function(t,e,n){"use strict";n("7be4")},"7be4":function(t,e,n){},"7cb6":function(t,e,n){},"7f30":function(t,e,n){"use strict";n("1b75")},9513:function(t,e,n){},b512:function(t,e,n){"use strict";n("c716")},b817:function(t,e,n){"use strict";n("48e1")},c716:function(t,e,n){},cf25:function(t,e,n){"use strict";n("fea6")},cf56:function(t,e,n){},cfee:function(t,e,n){},df60:function(t,e,n){},e026:function(t,e,n){"use strict";n("cfee")},e511:function(t,e,n){"use strict";n("42f8")},f24d:function(t,e,n){"use strict";n("4880")},fea6:function(t,e,n){},ffad:function(t,e,n){}});
//# sourceMappingURL=app.79c0396c.js.map